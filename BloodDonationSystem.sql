DROP TABLE BANK;
DROP TABLE TAKER;
DROP TABLE DONOR;

CREATE TABLE DONOR
(
      DONOR_ID NUMBER(6),
	  DONOR_NAME VARCHAR(20),
	  DONOR_BLOOD_GROUP VARCHAR(3),
	  DONOR_ADDRESS VARCHAR(30),
	  DONOR_CONTACT NUMBER(20),
	  DONATED_BLOOD_BANK VARCHAR(40),
	  DONATE_DATE VARCHAR(30),
	  QUANTITY NUMBER(4),
	  PRIMARY KEY (DONOR_ID)
);

CREATE TABLE TAKER
(
      ID NUMBER(6),
	  NAME VARCHAR(25),
	  BLOOD_GROUP VARCHAR(4),
	  ADDRESS VARCHAR(30),
	  CONTACT NUMBER(20),
	  MEDICAL_REPORT VARCHAR(20),
	  D_ID NUMBER(6),
	  PRIMARY KEY (ID),
	  FOREIGN KEY (D_ID) REFERENCES DONOR(DONOR_ID)
);

CREATE TABLE BANK
(
      REGISTER_ID NUMBER(7),
	  BANK_NAME VARCHAR(40),
	  BANK_ADDRESS VARCHAR(40),
	  BANK_CONTACT NUMBER(20),
	  P_ID NUMBER(6),
	  D_ID NUMBER(6),
	  PRIMARY KEY (REGISTER_ID),
      FOREIGN KEY (P_ID) REFERENCES TAKER (ID),
      FOREIGN KEY (D_ID) REFERENCES DONOR (DONOR_ID)	  
);
--Insert into donor table--
INSERT INTO DONOR VALUES(10101,'Siad','B+','KUET,Khulna',01678888889,'Sondhani Blood Bank','27 June,2017',2);
INSERT INTO DONOR VALUES(10102,'Tahsin','A+','Mirpur,Dhaka',01678888850,'Badhon Blood Bank','29 Jan,2017',3);
INSERT INTO DONOR VALUES(10103,'Khan','AB+','Dhemra,Dhaka',01778888889,'Badhon Blood Bank','17 May,2017',1);
INSERT INTO DONOR VALUES(10104,'Ahmed','O-','Zilla School Road,Mymensingh',01878888889,'Delta Blood Bank','3 Sept,2017',2);

--Insert into taker table--

INSERT INTO TAKER VALUES(23456,'Abdul Karim','A+','Telegati,Khulna',01521346844,'YES',10101);
INSERT INTO TAKER VALUES(23457,'Abdul Satter','B+','Mirpur,Dhaka',01721346832,'YES',10102);
INSERT INTO TAKER VALUES(23458,'Nazmul Hossain','AB+','Zilla School,Mymensingh',01921346867,'NO',10103);
INSERT INTO TAKER VALUES(23459,'Joshna Begum','O-','Dhemra,Dhaka',01621346846,'YES',10104);
INSERT INTO TAKER VALUES(23455,'Joynul Abedin','B-','Amlapara,Mymensingh',01821346854,'NO',10104);

--Insert into Blood bank table--
INSERT INTO BANK VALUES(233413,'Sondhani Blood Bank','Shibbari,Khulna',01777332071,23456,10101);
INSERT INTO BANK VALUES(233414,'Badhon Blood Bank','Polashi Mor,Dhaka',01777332061,23457,10102);
INSERT INTO BANK VALUES(233415,'Popular Blood Bank','Shantidham Mor,Khulna',01777332051,23458,10103);
INSERT INTO BANK VALUES(233416,'Delta Blood Bank','Chorpara,Mymensingh',01777332077,23455,10104);

SELECT * FROM DONOR;
SELECT * FROM TAKER;
SELECT * FROM BANK;


SELECT distinct(b.bank_address)  from donor d JOIN bank b ON b.d_id in (select donor_id from donor where donor_name = 'Siad');






  